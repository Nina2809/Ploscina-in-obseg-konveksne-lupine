---
title: "Poročilo projekta - Aproksimacija ploščine in obsega konveksne lupine"
author: "Nina Velkavrh in Ajda Majhenič"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r Analiza_modelov, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
source("Analiza_generiranih_podatkov.r", encoding="UTF-8")
```

### Uvod - Definicija konveksne lupine



Podmnožica $T$ v $\mathbb{R}^2$ je konveksna, če lahko poljubni točki $A$ in $B$ v $T$  povežemo z daljico, ki je v celoti vsebovana v množici $T$.


Naj bo $S$ končna množica točk v ravnini. Konveksna lupina je najmanjša konveksna množica, ki vsebuje $S$.

Z drugimi besedami mejo konveksne lupine tvori konveksni poligon, katerega ogljišča so točke množice $S$, robovi pa so odseki, ki povezujejo pare točk množice $S$. Označimo konveksni mnogokotnih s $CH(S)$.

### Opis problema

V projektni nalogi sva se ukvarjali z zelo pogostim problemom geometrije in sicer konstruiranje konveksne lupine s končno množico točk v ravnini. Osredotočili sva se predvsem na izračun njene ploščine in obsega. Predpostavljali sva, da imamo konveksno lupino množice $P$, znotraj katere je $n$ točk. 
Sprva sva implementirali znan Jarvisovega algoritem za določitev konveksne lupine množice S z n točkami, nato sva izračunali eksakten obseg in ploščino. V glavnem delu projekta sva modelirali 2 metodi za njuno aproksimacijo. Dobljene ploščine in obsege, sva med sabo primerjali in zelo hitro ugotovili, da je 2. metoda precej slabša kot 1., saj je le ta vračala precej večje napake kot 1.. Doblejene rezultate sva primerjali tudi z dejanskimi vrednostmi obsega in ploščine. Zanimalo naju je koliko elementov v vzorcu (podmnožici množice S) potrebujeva, da dobiva približek z natančnostjo 90\% , 99\% in 99,9\% ter ali ima pri tem število točk kakšno vlogo.

### Opis algoritma za določitev konveksne lupine množice S z n točkami

### Opis 1. metode

### Opis 2. metode

### Statistično modeliranje v programu r

#### Obdelava podatkov v programu r

Podakte sva uvozili v program r in jih statistično obdelali. Med analiziranjem rezultatov naju je zanimalo:

- Koliko je povprečni delež točk v vzorcu 1. modela, ki ga potrebujeva za 90\% , 99\% in 99,9\% natančnost pri različnih velikostih osnovne množice S,
- kako na rezultate modela 1.vpliva različna razdelitev območja pri fiksnem številu točk,
- ali in kdaj je mogoče tudi z 2. metodo dobiti 90\% , 99\% in 99,9\% natančnost,
- kako se razlikujejo rezultati posamezne metode glede na različno število točk v množici S,


### Rezultati:

#### Povprečni delež točk za 90\% , 99\% in 99,9\% natančnost 1. modela pri izračunu ploščine in obsega pri različnih močeh množice S

Ob začetku analize podatkov sva si odgovorili na vprašanje kakšen delež točk je potreben za 90\% , 99\% in 99,9\% natančnost 1. modela. Program je zgeneriral točke na območju [0,10] x [0,10], pri 100 delitvah enega intervala - torej mreža 10000 kvadratov, pri različnih močeh množice S. Sprva sva podatke generirali tako, da se je za vsako moč množice S algoritem ponovil stokrat, ker sva pri takem številu ponovitev ugotovili, da obstajajo odstopanja pri deležih, sva se odločili, da algoritem poženeva raje tisočkrat za vsako moč množice S. Generiranje podatkov je sicer trajalo kar nekaj časa, a sva kasneje z analizo ugotovili, da je tovrstn način bolj reprezentativen. Rezultate zadnjega poskusa prikazujeta spodja grafa. Opazi se, da funkciji nimata nenavadnih odstopanj. To, da ne opazimo odstopanj se zdi logično, saj se pri večjem številu iteracij izračunana povprečna vrednost deležev točk, ki je potrebna za željeno natančnost bolj približuje pravi povprečni vrednosti. Iz spodnjih grafov je moč opaziti, da se povprečni delež točk potrebnih za željeno natančnost, zmanjšuje z večanjem moči množice S. Videno je verjetno posledica tega, da je območje glede na količino točk v večjih množicah precej majhno in so posledično točke zelo gosto razporejene po območju. Kot omenjeno model 1 iz vsakega dela mreže na katero je razdeljen kvadrat [0,10] x [0,10], vzame le 1 točko oziroma nobene, če celica nima točke množice S. Posledica tega je, da so neizbrane točke verjetno zelo blizu izbranim in se rezultati aproksimacije ne razlikujejo bistveno od eksaktnih vrednosti ploščin in obsega. 

\newline Grafa prikazujeta potrebne deleže točk za željene natančnosti aproksimacije obsega in ploščine vidimo lahko, da so potrebni deleži za obseg le nekaj odstotnih točk manj kot potrebni deleži za ploščino. 

```{r graf_razlicnih_delezev, echo=FALSE, message=FALSE,  fig.show="hold", out.width="50%"}
print(graf_razlicnih_delezev)
print(graf_razlicnih_delezev_obseg)
```


#### Vpliv razdelitve območja na rezultate 1. metode

dodati morva graf

#### 2. metoda in njena uspešnost

```{r graf_napak_za_krog, echo=FALSE, message=FALSE,  fig.align='center'}
print(graf_napak_za_krog)
```

#### Primerjava rezultatov 1. in 2. metode pri različnih močeh množice S

Spodnja grafa prikazujeta povprečne rezultate obeh metod pri tisočih ponovitvah metod za vako moč množice S. Tudi pri spodnjih grafih sva sprva poskusili algoritem ponoviti le stokrat za vsako moč množice, a je prišlo tudi tu do precejšnih odstopanj. Razlog odstopanj je podoben kot pri izračunu potrebnih deležev. Torej, da se pri večjem številu ponovitev modela izračunana povprečna vrednost napake za vsako moč množice bolj približuje pravi napaki. Opazimo lahko, da so napake 2. metode bistveno večje, kot napake 1. metode. Razlog za to je, da 2. metoda vzame za polmer kroga točko, ki je najbolj oddaljena od težišča (povprečja koordinat točk), ta razdalja je lahko v primeru, da je večina točk zgoščena okoli neke vrednosti in le majhen delež točk popolnoma drugje, precej velika. Ta majhen delež točk, ki se nahaja stran od večine ne prispeva veliko pri izračunu povprečja koordinat, zato se težišče nahaja bližje območju kjer je večji delež točk množice S. Posledično bo krog vzel precej večje območje, kot je konveksna lupina te množice in bojo napake aproksimacije zelo velike. Podoben razmislek, kot smo ga uporabili pri razlagi, zakaj je za večje množice potreben manjši delež točk za željeno točnosti, lahko uporabimo tudi tu, ko opazimo, da se napake 2. metode manjšajo z večjim številom točk množice S. Na območju [0,10] x [0,10] je namreč zelo verjetno, da bojo točke večjih množic bolj enakomerno porazdeljene po območju in bo krog posledično manj odstopal od dejanske konveksne lupine. Zanimiv podatek, ki sva ga opazili je, da na neki toči napaka ne pade pod 55\% za ploščino in 10\% za obseg. Razlog tega je verjetno ta, da se z večanjem vzorca povečuje verjetnost, da bo najbolj oddaljena točka od težišča blizu roba, težišče pa blizu sredini kvadrata in bo s tem krog očrtan krog kvadrata. 

\newline Pri grafu, ki prikazuje povprečne napake 1. metode lahko opazimo, da so napake med 0 in 0.15, a se z večanjem vzorca povečujejo. Slednje se dogaja zato, ker je pri izbiri točk pri manjših močeh množice bolj verjetno, da so izbrane točke ravno točke, ki sestavljajo konveksno lupino. Medtem, ko gostota razporeditve točk večjih množic S vpliva na to, da je verjetnost, da izberemo ravno točke ovojnice manjša. 

```{r graf_napak_2.metode, echo=FALSE, message=FALSE, fig.show="hold", out.width="50%"}
print(graf_napak_1.metode)
print(graf_napak_2.metode)
```

ni uredu --- raje glede na delitev območja (popravi)
```{r shiny}
shinyAppDir("Shiny", options=list(width="100%", height=600, echo=FALSE, message=FALSE))
```


## Zaključek in možne izboljšave



